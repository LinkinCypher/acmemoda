<!DOCTYPE html>
<html 
	xmlns:th="http://www.thymeleaf.org" 
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
	layout:decorate="~{plantillaTema/header}">

<head>
    <title>Producto</title>
</head>

<body>
	<!-- PLANTILLA RELOAD -->
	<div th:replace="plantillaTema/preloader :: div"></div>
	
    <div id="pcoded" class="pcoded">
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">
            
			<!-- PLANTILLA BARRA DE NAVEGACIÓN SUPERIOR -->
            <nav layout:fragment="navbar" th:replace="plantillaTema/navbar :: nav"></nav>

            <div class="pcoded-main-container">
                <div class="pcoded-wrapper">
					
					<!-- PLANTILLA SIDEBAR IZQUIERDO -->
					<nav layout:fragment="sidebar" th:replace="plantillaTema/sidebar :: nav"></nav>

                    <div class="pcoded-content">
						
						
						
                        <!-- Page-header start -->
                        <div class="page-header">
                            <div class="page-block">
                                <div class="row align-items-center">
                                    <div class="col-md-8">
                                        <div class="page-header-title">
                                            <h5 class="m-b-10">Detalle</h5>
                                            <p class="m-b-0">Bienvenido a la sección de detalle</p>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <ul class="breadcrumb">
                                            <li class="breadcrumb-item">
                                                <a href="index"> <i class="fa fa-home"></i> </a>
                                            </li>
                                            <li class="breadcrumb-item"><a href="#!">Detalle - Lista</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Page-header end -->
                        
                        
                        
                        <div class="pcoded-inner-content">
                            <div class="main-body">
                                <div class="page-wrapper">
                                    <div class="page-body">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h5>Detalles</h5>
                                                        <span></span>
														
														<!-- PLANTILLA DE OPCIONES -->
														<div th:replace="plantillaTema/options :: div"></div>

														
														
														<!-- INICIO -->
														<span>
															<a th:href="@{/nuevodetalle}" class="btn btn-primary btn-xs waves-effect waves-light" data-align="center">
																<i class="fa fa-credit-card"></i>
																Crear nuevo Detalle
															</a>
														</span>
														
														<table class="table">
														  <thead>
														    <tr>
																<th scope="col">#</th>
																<th scope="col">Pedido</th>
															    <th scope="col">Cliente</th>
															    <th scope="col">Categoria</th>
																<th scope="col">Producto</th>
																<th scope="col">Cantidad</th>
																<th scope="col">Costo</th>
																<th scope="col">Costo Total</th>
																<th scope="col">Estado</th>
																<th scope="col">Editar / Eliminar</th>
														    </tr>
														  </thead>
														  <tbody>
															<tr th:each="detalle: ${lista}">
															    <td th:text="${detalle.idDetalle}"></td>
											                    <td th:text="${detalle.fkPedido.fecha}"></td>
											                    <td th:text="${detalle.fkPedido.fkCliente.nombre} + ' ' + ${detalle.fkPedido.fkCliente.apellido}"></td>
											                    <td th:text="${detalle.fkProducto.fkCategoria.nombre}"></td>
											                    <td th:text="${detalle.fkProducto.nombre}"></td>
											                    <td th:text="${detalle.cantidad}"></td>
											                    <td th:text="${detalle.fkProducto.costo}"></td>
											                    <td th:text="${detalle.cantidad * detalle.fkProducto.costo}"></td>
											                    <td>
																    <label 	class="label label-md" 
																    		th:classappend="${detalle.estado} ? 'label-primary' : 'label-danger'"
																           	th:text="${detalle.estado ? 'Activo' : 'Inactivo'}">
																    </label>
																</td>
															    <td>
																	<a 	th:href="@{/editardetalle/}+ ${detalle.idDetalle}" 
																		class="btn btn-success btn-sm waves-effect waves-light">
																		<i class="fa fa-edit"></i>
																	</a>
																	<a 	th:href="@{/eliminardetalle/}+ ${detalle.idDetalle}"
																		class="btn btn-danger btn-sm waves-effect waves-light"
																		onclick="return confirm('¿Esta seguro que desea eliminar?')">
																		<i class="fa fa-trash"></i>
																	</a>
																</td>
														    </tr>
														  </tbody>
														</table>
                                                    	
														
														<!-- FIN -->
														
														
														
													</div> 
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="styleSelector"></div>
                </div>
            </div>
        </div>
    </div>
    
	<!-- PLANTILLA JQUERY EN EL FOOTER -->
	<footer layout:fragment="footer" th:replace="plantillaTema/footer :: footer"></footer>
</body>

</html>